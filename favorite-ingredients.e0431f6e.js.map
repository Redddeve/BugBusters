{"mappings":"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","sources":["src/js/fav-ingredients.js","src/js/ingred-pagination.js"],"sourcesContent":["import './header.js'; //TODO Все что ниже нужно кинуть в отдельный файл\nimport { Notify } from 'notiflix';\nimport { refs } from './refs';\nimport { fetchIngredient } from './fetch-data';\nimport { removeFromLS } from './local-storage-operations';\nimport markupIngredient from './markup-ingredient';\nimport { renderIngPagination } from './ingred-pagination.js';\n\nexport const renderFavIng = ids => {\n  refs.ingredientsGallery.innerHTML = '';\n  refs.containerNotFoundFavIng.classList.add('is-hidden');\n  if (!ids || ids.length === 0) {\n    refs.containerNotFoundFavIng.classList.remove('is-hidden');\n  }\n  ids.forEach(async id => {\n    const response = await fetchIngredient(id);\n    if (!response[0]) return;\n    const data = response[0];\n    refs.ingredientsGallery.innerHTML += `\n        <li class=\"fav-ingredient-card\">\n        <h3 class=\"fav-ingred-header\">${data.title}</h3>\n        <p class=\"is-alcoholic\">${\n          data.alcohol === 'Yes' ? 'Alcoholic' : 'Non-Alcoholic'\n        }</p>\n        <p class=\"fav-ingred-desc\">\n        ${data.description}\n        </p>\n        <div class=\"fav-ingred-btns\">\n          <button type=\"button\" class=\"fav-ingred-learn-more-btn learn-more-btn\" data-id=\"${id}\" data-role=\"learn-more\">\n            LEARN MORE\n          </button>\n          <button\n            type=\"button\"\n            class=\"delete-btn fav-ingred-delete-btn\"\n            data-id=\"${id}\"\n            data-role=\"delete\"\n          >\n            <svg\n              class=\"card-cocktail-delete-icon\"\n              xmlns=\"http://www.w3.org/2000/svg\"\n              width=\"18\"\n              height=\"18\"\n              viewBox=\"0 0 18 18\"\n              fill=\"none\"\n            >\n              <path\n                d=\"M11 4.5V3.9C11 3.05992 11 2.63988 10.8365 2.31901C10.6927 2.03677 10.4632 1.8073 10.181 1.66349C9.86012 1.5 9.44008 1.5 8.6 1.5H7.4C6.55992 1.5 6.13988 1.5 5.81901 1.66349C5.53677 1.8073 5.3073 2.03677 5.16349 2.31901C5 2.63988 5 3.05992 5 3.9V4.5M6.5 8.625V12.375M9.5 8.625V12.375M1.25 4.5H14.75M13.25 4.5V12.9C13.25 14.1601 13.25 14.7902 13.0048 15.2715C12.789 15.6948 12.4448 16.039 12.0215 16.2548C11.5402 16.5 10.9101 16.5 9.65 16.5H6.35C5.08988 16.5 4.45982 16.5 3.97852 16.2548C3.55516 16.039 3.21095 15.6948 2.99524 15.2715C2.75 14.7902 2.75 14.1601 2.75 12.9V4.5\"\n                stroke=\"#FDFDFF\"\n                stroke-width=\"1.5\"\n                stroke-linecap=\"round\"\n                stroke-linejoin=\"round\"\n              />\n            </svg>\n          </button>\n        </div>\n      </li>\n    `;\n  });\n};\n\nrenderIngPagination(JSON.parse(localStorage.getItem('ingredients')));\n\nconst deleteFromFavIng = id => {\n  removeFromLS('ingredients', id);\n  renderIngPagination(JSON.parse(localStorage.getItem('ingredients')));\n};\n\nconst openIngredModal = async e => {\n  const ingredId = e.target.dataset.id;\n  try {\n    const response = await fetchIngredient(ingredId);\n    if (!response[0]) return;\n    const data = response[0];\n    markupIngredient(data);\n    refs.backdropIngred.classList.remove('is-hidden');\n    let removeFromFavBtn = document.querySelector('.remove-from-fav-ing-btn');\n    removeFromFavBtn.addEventListener('click', e => {\n      const id = e.target.dataset.id;\n      deleteFromFavIng(id);\n      refs.backdropIngred.classList.add('is-hidden');\n    });\n  } catch (err) {\n    Notify.failure('Oops, something went wrong!', {\n      clickToClose: true,\n    });\n    console.error(err);\n  }\n};\n\nrefs.ingredientsGallery.addEventListener('click', e => {\n  if (e.target.dataset.role === 'delete' || e.target.closest('.delete-btn')) {\n    deleteFromFavIng(e.target.dataset.id);\n  }\n  if (e.target.dataset.role === 'learn-more') {\n    openIngredModal(e);\n  }\n});\n\nrefs.backdropIngred.addEventListener('click', closeIngredModal);\n\nfunction closeIngredModal(e) {\n  if (\n    e.target !== e.currentTarget &&\n    e.target.closest('.ingred-modal-x-btn') !== refs.closeModalBtn\n  ) {\n    return;\n  }\n  refs.backdropIngred.classList.add('is-hidden');\n  renderFavIng();\n}\n","import { refs } from './refs.js';\nimport { renderFavIng } from './fav-ingredients.js';\n\nexport function renderIngPagination(ingArr) {\n  refs.paginationContainer.innerHTML = `<button\n          class=\"left-pag-btn pagination-button-item\"\n          type=\"button\"\n          id=\"left-pag-btn\"\n          data-action=\"leftPag\"\n        >\n            <svg class=\"page-left-icon-container page-left-icon pagination-svg\" id=\"left-pag-btn-svg\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" data-action=\"leftPag\">\n            <g clip-path=\"url(#clip0_12857_1332)\">\n            <path d=\"M10.9087 12.5L16 17.5558L14.5456 19L8 12.5L14.5456 6L16 7.44422L10.9087 12.5Z\" />\n            </g>\n        </svg>\n        </button>\n        <div class=\"number-buttons-container\"></div>\n        <button\n          class=\"right-pag-btn pagination-button-item\"\n          type=\"button\"\n          id=\"right-pag-btn\"\n          data-action=\"rightPag\"\n        >\n            <svg class=\"page-right-icon-container page-left-icon pagination-svg\" id=\"right-pag-btn-svg\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 28 28\" data-action=\"rightPag\">\n            <g clip-path=\"url(#clip0_12857_1351)\">\n            <path d=\"M15.2735 14.5833L9.33366 20.4817L11.0304 22.1667L18.667 14.5833L11.0304 7L9.33366 8.68492L15.2735 14.5833Z\" />\n            </g>\n    </svg>\n        </button>`;\n\n  const paginationNumberBtnsContainer = document.querySelector(\n    '.number-buttons-container'\n  );\n  const leftPagBtn = document.getElementById('left-pag-btn');\n  const rightPagBtn = document.getElementById('right-pag-btn');\n  paginationNumberBtnsContainer.innerHTML = '';\n  let cardsPerPage = 6;\n\n  let currentPageIndex = 0;\n  let pageBtns = [];\n  let start = [];\n  let finish = [];\n\n  function isMobile() {\n    if (window.innerWidth >= 768) {\n      return false;\n    } else {\n      return true;\n    }\n  }\n\n  let totalIngCount = ingArr.length;\n\n  if (totalIngCount <= cardsPerPage) {\n    refs.paginationContainer.classList.add('is-hidden');\n  } else refs.paginationContainer.classList.remove('is-hidden');\n\n  let totalPagesNum = Math.ceil(totalIngCount / cardsPerPage);\n\n  const sortedCardsArr = createPagesArr(ingArr, cardsPerPage);\n\n  arrowCheck(leftPagBtn, rightPagBtn);\n\n  function createPagesArr(arr, cardsPerPageNum) {\n    return arr.reduce((result, item, index) => {\n      if (index % cardsPerPageNum === 0) {\n        result.push([]);\n      }\n      result[result.length - 1].push(item);\n      return result;\n    }, []);\n  }\n  renderFavIng(sortedCardsArr[0]);\n\n  const onPaginationBtnClick = evt => {\n    let btnValue = evt.target.dataset.action;\n    refs.ingredientsGallery.innerHTML = '';\n    switch (btnValue) {\n      case 'leftPag':\n        {\n          pageBtns[currentPageIndex].classList.remove(\n            'pagination-button-item-active'\n          );\n          currentPageIndex -= 1;\n          if (currentPageIndex < 0) {\n            currentPageIndex = 0;\n          }\n          pageBtns[currentPageIndex].classList.add(\n            'pagination-button-item-active'\n          );\n          renderFavIng(sortedCardsArr[currentPageIndex]);\n        }\n        break;\n\n      case 'rightPag':\n        {\n          pageBtns[currentPageIndex].classList.remove(\n            'pagination-button-item-active'\n          );\n          currentPageIndex += 1;\n          pageBtns[currentPageIndex].classList.add(\n            'pagination-button-item-active'\n          );\n          renderFavIng(sortedCardsArr[currentPageIndex]);\n        }\n        break;\n    }\n\n    if (!isNaN(Number(btnValue))) {\n      pageBtns.forEach(item =>\n        item.classList.remove('pagination-button-item-active')\n      );\n      currentPageIndex = Number(btnValue - 1);\n      pageBtns[currentPageIndex].classList.add('pagination-button-item-active');\n      renderFavIng(sortedCardsArr[currentPageIndex]);\n    }\n    arrowCheck(leftPagBtn, rightPagBtn);\n  };\n\n  leftPagBtn.addEventListener('click', onPaginationBtnClick);\n  rightPagBtn.addEventListener('click', onPaginationBtnClick);\n\n  for (let i = 1; i <= totalPagesNum; i++) {\n    const pageBtn = document.createElement('button');\n    pageBtn.textContent = i;\n    pageBtn.setAttribute('data-action', i);\n    pageBtn.classList.add('pagination-button-item');\n    pageBtn.addEventListener('click', onPaginationBtnClick);\n    pageBtns.push(pageBtn);\n  }\n  pageBtns[0].classList.add('pagination-button-item-active');\n  switch (isMobile()) {\n    case true:\n      {\n        console.log('is mobile');\n        if (pageBtns.length <= 4) {\n          paginationNumberBtnsContainer.append(...pageBtns);\n        } else {\n          start = pageBtns.slice(0, 3);\n          finish = pageBtns.slice(pageBtns.length - 1, pageBtns.length);\n\n          const moreBtn = document.createElement('button');\n          moreBtn.textContent = '...';\n          moreBtn.classList.add('pagination-button-item');\n\n          paginationNumberBtnsContainer.append(...start, moreBtn, ...finish);\n        }\n      }\n      break;\n\n    case false: {\n      console.log('is not mobile');\n      if (pageBtns.length <= 7) {\n        paginationNumberBtnsContainer.append(...pageBtns);\n      } else {\n        start = pageBtns.slice(0, 3);\n        finish = pageBtns.slice(pageBtns.length - 3, pageBtns.length);\n\n        const moreBtn = document.createElement('button');\n        moreBtn.textContent = '...';\n        moreBtn.setAttribute('disabled', '');\n        moreBtn.classList.add('pagination-button-item');\n\n        paginationNumberBtnsContainer.append(...start, moreBtn, ...finish);\n        break;\n      }\n    }\n  }\n\n  function arrowCheck(leftPagBtn, rightPagBtn) {\n    if (currentPageIndex === 0) {\n      // refs.leftPagBtn[0].setAttribute('disabled', '');\n      leftPagBtn.classList.add('is-hidden');\n    } else {\n      // refs.leftPagBtn[0].removeAttribute('disabled');\n      leftPagBtn.classList.remove('is-hidden');\n    }\n    if (currentPageIndex === totalPagesNum - 1) {\n      // refs.rightPagBtn[0].setAttribute('disabled', '');\n      rightPagBtn.classList.add('is-hidden');\n    } else {\n      // refs.rightPagBtn[0].removeAttribute('disabled');\n      rightPagBtn.classList.remove('is-hidden');\n    }\n  }\n}\n"],"names":["parcelRequire","$krGWQ","$8002b637a05e69bd$export$12a2e48a7a9bf7c3","ingArr","refs","paginationContainer","innerHTML","paginationNumberBtnsContainer","document","querySelector","leftPagBtn1","getElementById","rightPagBtn1","currentPageIndex","pageBtns","start","finish","totalIngCount","length","classList","add","remove","totalPagesNum","Math","ceil","sortedCardsArr","cardsPerPageNum","reduce","result","item","index","push","arrowCheck","$4965aecbeeb41b49$export$d253f2abd626e82b","onPaginationBtnClick","evt","btnValue","target","dataset","action","ingredientsGallery","isNaN","Number","forEach","addEventListener","i","pageBtn","createElement","textContent","setAttribute","window","innerWidth","console","log","append","slice","moreBtn","leftPagBtn","rightPagBtn","ids","containerNotFoundFavIng","async","id","response","$g1agj","fetchIngredient","data","title","alcohol","description","JSON","parse","localStorage","getItem","$4965aecbeeb41b49$var$deleteFromFavIng","$jWzUR","removeFromLS","e","role","closest","e1","ingredId","$hjKJK","default","backdropIngred","err","$7Y9D8","Notify","failure","clickToClose","error","$4965aecbeeb41b49$var$openIngredModal","currentTarget","closeModalBtn"],"version":3,"file":"favorite-ingredients.e0431f6e.js.map"}