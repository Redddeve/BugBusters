{"mappings":"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","sources":["src/js/fav-ingredients.js","src/js/ingred-pagination.js"],"sourcesContent":["import './header.js'; //TODO Все что ниже нужно кинуть в отдельный файл\nimport { Notify } from 'notiflix';\nimport { refs } from './refs';\nimport { fetchIngredient } from './fetch-data';\nimport { removeFromLS } from './local-storage-operations';\nimport markupIngredient from './markup-ingredient';\nimport { renderIngPagination } from './ingred-pagination.js';\n\nexport const renderFavIng = ids => {\n  refs.ingredientsGallery.innerHTML = '';\n  refs.containerNotFoundFavIng.classList.add('is-hidden');\n  if (!ids || ids.length === 0) {\n    refs.containerNotFoundFavIng.classList.remove('is-hidden');\n  }\n  ids.forEach(async id => {\n    const response = await fetchIngredient(id);\n    if (!response[0]) return;\n    const data = response[0];\n    refs.ingredientsGallery.innerHTML += `\n        <li class=\"fav-ingredient-card\">\n        <h3 class=\"fav-ingred-header\">${data.title}</h3>\n        <p class=\"is-alcoholic\">${\n          data.alcohol === 'Yes' ? 'Alcoholic' : 'Non-Alcoholic'\n        }</p>\n        <p class=\"fav-ingred-desc\">\n        ${data.description}\n        </p>\n        <div class=\"fav-ingred-btns\">\n          <button type=\"button\" class=\"fav-ingred-learn-more-btn learn-more-btn\" data-id=\"${id}\" data-role=\"learn-more\">\n            LEARN MORE\n          </button>\n          <button\n            type=\"button\"\n            class=\"delete-btn fav-ingred-delete-btn\"\n            data-id=\"${id}\"\n            data-role=\"delete\"\n          >\n            <svg\n              class=\"card-cocktail-delete-icon\"\n              xmlns=\"http://www.w3.org/2000/svg\"\n              width=\"18\"\n              height=\"18\"\n              viewBox=\"0 0 18 18\"\n              fill=\"none\"\n            >\n              <path\n                d=\"M11 4.5V3.9C11 3.05992 11 2.63988 10.8365 2.31901C10.6927 2.03677 10.4632 1.8073 10.181 1.66349C9.86012 1.5 9.44008 1.5 8.6 1.5H7.4C6.55992 1.5 6.13988 1.5 5.81901 1.66349C5.53677 1.8073 5.3073 2.03677 5.16349 2.31901C5 2.63988 5 3.05992 5 3.9V4.5M6.5 8.625V12.375M9.5 8.625V12.375M1.25 4.5H14.75M13.25 4.5V12.9C13.25 14.1601 13.25 14.7902 13.0048 15.2715C12.789 15.6948 12.4448 16.039 12.0215 16.2548C11.5402 16.5 10.9101 16.5 9.65 16.5H6.35C5.08988 16.5 4.45982 16.5 3.97852 16.2548C3.55516 16.039 3.21095 15.6948 2.99524 15.2715C2.75 14.7902 2.75 14.1601 2.75 12.9V4.5\"\n                stroke=\"#FDFDFF\"\n                stroke-width=\"1.5\"\n                stroke-linecap=\"round\"\n                stroke-linejoin=\"round\"\n              />\n            </svg>\n          </button>\n        </div>\n      </li>\n    `;\n  });\n};\n\nrenderIngPagination(JSON.parse(localStorage.getItem('ingredients')));\n\nconst deleteFromFavIng = id => {\n  removeFromLS('ingredients', id);\n  renderIngPagination(JSON.parse(localStorage.getItem('ingredients')));\n};\n\nconst openIngredModal = async e => {\n  const ingredId = e.target.dataset.id;\n  try {\n    const response = await fetchIngredient(ingredId);\n    if (!response[0]) return;\n    const data = response[0];\n    markupIngredient(data);\n    refs.backdropIngred.classList.remove('is-hidden');\n    let removeFromFavBtn = document.querySelector('.remove-from-fav-ing-btn');\n    removeFromFavBtn.addEventListener('click', e => {\n      const id = e.target.dataset.id;\n      deleteFromFavIng(id);\n      refs.backdropIngred.classList.add('is-hidden');\n    });\n  } catch (err) {\n    Notify.failure('Oops, something went wrong!', {\n      clickToClose: true,\n    });\n    console.error(err);\n  }\n};\n\nrefs.ingredientsGallery.addEventListener('click', e => {\n  if (e.target.dataset.role === 'delete' || e.target.closest('.delete-btn')) {\n    deleteFromFavIng(e.target.dataset.id);\n  }\n  if (e.target.dataset.role === 'learn-more') {\n    openIngredModal(e);\n  }\n});\n\nrefs.backdropIngred.addEventListener('click', closeIngredModal);\n\nfunction closeIngredModal(e) {\n  if (\n    e.target !== e.currentTarget &&\n    e.target.closest('.ingred-modal-x-btn') !== refs.closeModalBtn\n  ) {\n    return;\n  }\n  refs.backdropIngred.classList.add('is-hidden');\n  renderFavIng();\n}\n","import { refs } from './refs.js';\nimport { renderFavIng } from './fav-ingredients.js';\n\nexport function renderIngPagination(ingArr) {\n  refs.paginationContainer.innerHTML = `<button\n          class=\"left-pag-btn pagination-button-item\"\n          type=\"button\"\n          id=\"left-pag-btn\"\n          data-action=\"leftPag\"\n        >\n            <svg class=\"page-left-icon-container page-left-icon pagination-svg\" id=\"left-pag-btn-svg\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" data-action=\"leftPag\">\n            <g clip-path=\"url(#clip0_12857_1332)\">\n            <path d=\"M10.9087 12.5L16 17.5558L14.5456 19L8 12.5L14.5456 6L16 7.44422L10.9087 12.5Z\" />\n            </g>\n        </svg>\n        </button>\n        <div class=\"number-buttons-container\"></div>\n        <button\n          class=\"right-pag-btn pagination-button-item\"\n          type=\"button\"\n          id=\"right-pag-btn\"\n          data-action=\"rightPag\"\n        >\n            <svg class=\"page-right-icon-container page-left-icon pagination-svg\" id=\"right-pag-btn-svg\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 28 28\" data-action=\"rightPag\">\n            <g clip-path=\"url(#clip0_12857_1351)\">\n            <path d=\"M15.2735 14.5833L9.33366 20.4817L11.0304 22.1667L18.667 14.5833L11.0304 7L9.33366 8.68492L15.2735 14.5833Z\" />\n            </g>\n    </svg>\n        </button>`;\n\n  const paginationNumberBtnsContainer = document.querySelector(\n    '.number-buttons-container'\n  );\n  const leftPagBtn = document.getElementById('left-pag-btn');\n  const rightPagBtn = document.getElementById('right-pag-btn');\n  paginationNumberBtnsContainer.innerHTML = '';\n  let cardsPerPage = 6;\n\n  let currentPageIndex = 0;\n  let pageBtns = [];\n  let start = [];\n  let finish = [];\n\n  function isMobile() {\n    if (window.innerWidth >= 768) {\n      return false;\n    } else {\n      return true;\n    }\n  }\n\n  let totalIngCount = ingArr.length;\n\n  if (totalIngCount <= cardsPerPage) {\n    refs.paginationContainer.classList.add('is-hidden');\n  } else refs.paginationContainer.classList.remove('is-hidden');\n\n  let totalPagesNum = Math.ceil(totalIngCount / cardsPerPage);\n\n  const sortedCardsArr = createPagesArr(ingArr, cardsPerPage);\n\n  arrowCheck(leftPagBtn, rightPagBtn);\n\n  function createPagesArr(arr, cardsPerPageNum) {\n    return arr.reduce((result, item, index) => {\n      if (index % cardsPerPageNum === 0) {\n        result.push([]);\n      }\n      result[result.length - 1].push(item);\n      return result;\n    }, []);\n  }\n  renderFavIng(sortedCardsArr[0]);\n\n  const onPaginationBtnClick = evt => {\n    let btnValue = evt.target.dataset.action;\n    refs.ingredientsGallery.innerHTML = '';\n    switch (btnValue) {\n      case 'leftPag':\n        {\n          pageBtns[currentPageIndex].classList.remove(\n            'pagination-button-item-active'\n          );\n          currentPageIndex -= 1;\n          if (currentPageIndex < 0) {\n            currentPageIndex = 0;\n          }\n          pageBtns[currentPageIndex].classList.add(\n            'pagination-button-item-active'\n          );\n          renderFavIng(sortedCardsArr[currentPageIndex]);\n        }\n        break;\n\n      case 'rightPag':\n        {\n          pageBtns[currentPageIndex].classList.remove(\n            'pagination-button-item-active'\n          );\n          currentPageIndex += 1;\n          pageBtns[currentPageIndex].classList.add(\n            'pagination-button-item-active'\n          );\n          renderFavIng(sortedCardsArr[currentPageIndex]);\n        }\n        break;\n    }\n\n    if (!isNaN(Number(btnValue))) {\n      pageBtns.forEach(item =>\n        item.classList.remove('pagination-button-item-active')\n      );\n      currentPageIndex = Number(btnValue - 1);\n      pageBtns[currentPageIndex].classList.add('pagination-button-item-active');\n      renderFavIng(sortedCardsArr[currentPageIndex]);\n    }\n    arrowCheck(leftPagBtn, rightPagBtn);\n  };\n\n  leftPagBtn.addEventListener('click', onPaginationBtnClick);\n  rightPagBtn.addEventListener('click', onPaginationBtnClick);\n\n  for (let i = 1; i <= totalPagesNum; i++) {\n    const pageBtn = document.createElement('button');\n    pageBtn.textContent = i;\n    pageBtn.setAttribute('data-action', i);\n    pageBtn.classList.add('pagination-button-item');\n    pageBtn.addEventListener('click', onPaginationBtnClick);\n    pageBtns.push(pageBtn);\n  }\n  pageBtns[0].classList.add('pagination-button-item-active');\n  switch (isMobile()) {\n    case true:\n      {\n        if (pageBtns.length <= 4) {\n          paginationNumberBtnsContainer.append(...pageBtns);\n        } else {\n          start = pageBtns.slice(0, 3);\n          finish = pageBtns.slice(pageBtns.length - 1, pageBtns.length);\n\n          const moreBtn = document.createElement('button');\n          moreBtn.textContent = '...';\n          moreBtn.classList.add('pagination-button-item');\n\n          paginationNumberBtnsContainer.append(...start, moreBtn, ...finish);\n        }\n      }\n      break;\n\n    case false: {\n      if (pageBtns.length <= 7) {\n        paginationNumberBtnsContainer.append(...pageBtns);\n      } else {\n        start = pageBtns.slice(0, 3);\n        finish = pageBtns.slice(pageBtns.length - 3, pageBtns.length);\n\n        const moreBtn = document.createElement('button');\n        moreBtn.textContent = '...';\n        moreBtn.setAttribute('disabled', '');\n        moreBtn.classList.add('pagination-button-item');\n\n        paginationNumberBtnsContainer.append(...start, moreBtn, ...finish);\n        break;\n      }\n    }\n  }\n\n  function arrowCheck(leftPagBtn, rightPagBtn) {\n    if (currentPageIndex === 0) {\n      // refs.leftPagBtn[0].setAttribute('disabled', '');\n      leftPagBtn.classList.add('is-hidden');\n    } else {\n      // refs.leftPagBtn[0].removeAttribute('disabled');\n      leftPagBtn.classList.remove('is-hidden');\n    }\n    if (currentPageIndex === totalPagesNum - 1) {\n      // refs.rightPagBtn[0].setAttribute('disabled', '');\n      rightPagBtn.classList.add('is-hidden');\n    } else {\n      // refs.rightPagBtn[0].removeAttribute('disabled');\n      rightPagBtn.classList.remove('is-hidden');\n    }\n  }\n}\n"],"names":["$bpxeT","parcelRequire","$8nrFW","$2148663ead04cd97$export$12a2e48a7a9bf7c3","ingArr","$4Nugj","refs","paginationContainer","innerHTML","paginationNumberBtnsContainer","document","querySelector","leftPagBtn1","getElementById","rightPagBtn1","currentPageIndex","pageBtns","start","finish","totalIngCount","length","classList","add","remove","cardsPerPageNum","totalPagesNum","Math","ceil","sortedCardsArr","reduce","result","item","index","push","arrowCheck","$868bd71daf520935$export$d253f2abd626e82b","onPaginationBtnClick","evt","btnValue","target","dataset","action","ingredientsGallery","isNaN","Number","forEach","addEventListener","i","pageBtn","createElement","textContent","setAttribute","window","innerWidth","_paginationNumberBtnsContainer","append","apply","$parcel$interopDefault","_paginationNumberBtnsContainer1","slice","moreBtn","concat","_paginationNumberBtnsContainer2","_paginationNumberBtnsContainer3","moreBtn1","leftPagBtn","rightPagBtn","ids","containerNotFoundFavIng","$2TvXO","mark","_callee","id","response","data","$diKlK","fetchIngredient","_ctx","sent","title","alcohol","description","JSON","parse","localStorage","getItem","$868bd71daf520935$var$deleteFromFavIng","$3Cltn","removeFromLS","$868bd71daf520935$var$openIngredModal","e1","ingredId","$3k74g","default","backdropIngred","e","$6JpON","Notify","failure","clickToClose","console","error","t0","role","closest","currentTarget","closeModalBtn"],"version":3,"file":"favorite-ingredients.0e5f50f0.js.map"}