{"mappings":"oeAAAA,EAAA,S,qEAOA,MAAMC,EAAe,KACnBC,EAAAC,KAAKC,mBAAmBC,UAAY,GACpCH,EAAAC,KAAKG,wBAAwBC,UAAUC,IAAI,aAC3C,MAAMC,EAAMC,KAAKC,MAAMC,aAAaC,QAAQ,gBACvCJ,GAAsB,IAAfA,EAAIK,QACdZ,EAAAC,KAAKG,wBAAwBC,UAAUQ,OAAO,aAEhDN,EAAIO,SAAQC,MAAMC,IAChB,MAAMC,QAAiB,EAAAC,EAAAC,iBAAgBH,GACvC,IAAKC,EAAS,GAAI,OAClB,MAAMG,EAAOH,EAAS,GACtBjB,EAAAC,KAAKC,mBAAmBC,WAAa,qFAEDiB,EAAKC,+CAElB,QAAjBD,EAAKE,QAAoB,YAAc,qEAGvCF,EAAKG,+JAG6EP,qMAMrEA,moCAsBlB,GACD,EAGJjB,IAEA,MAAMyB,EAAmBR,KACvB,EAAAS,EAAAC,cAAa,cAAeV,GAC5BjB,GAAc,EAyBhBC,EAAAC,KAAKC,mBAAmByB,iBAAiB,SAASC,KAClB,WAA1BA,EAAEC,OAAOC,QAAQC,MAAqBH,EAAEC,OAAOG,QAAQ,iBACzDR,EAAiBI,EAAEC,OAAOC,QAAQd,IAEN,eAA1BY,EAAEC,OAAOC,QAAQC,MA1BChB,OAAMkB,IAC5B,MAAMC,EAAWD,EAAEJ,OAAOC,QAAQd,GAClC,IACE,MAAMC,QAAiB,EAAAC,EAAAC,iBAAgBe,GACvC,IAAKjB,EAAS,GAAI,OAClB,MAAMG,EAAOH,EAAS,IACtB,EAAAkB,EAAAC,SAAiBhB,GACjBpB,EAAAC,KAAKoC,eAAehC,UAAUQ,OAAO,aACdyB,SAASC,cAAc,4BAC7BZ,iBAAiB,SAASC,IACzC,MAAMZ,EAAKY,EAAEC,OAAOC,QAAQd,GAC5BQ,EAAiBR,GACjBhB,EAAAC,KAAKoC,eAAehC,UAAUC,IAAI,YAAY,G,CAEhD,MAAOkC,GACPC,EAAAC,OAAOC,QAAQ,8BAA+B,CAC5CC,cAAc,IAEhBC,QAAQC,MAAMN,E,GASdO,CAAgBnB,EAAE,IAItB5B,EAAAC,KAAKoC,eAAeV,iBAAiB,SAErC,SAA0BC,GACxB,GACEA,EAAEC,SAAWD,EAAEoB,eACfpB,EAAEC,OAAOG,QAAQ,yBAA2BhC,EAAAC,KAAKgD,cAEjD,OAEFjD,EAAAC,KAAKoC,eAAehC,UAAUC,IAAI,aAClCP,G","sources":["src/js/fav-ingredients.js"],"sourcesContent":["import './header.js'; //TODO Все что ниже нужно кинуть в отдельный файл\nimport { Notify } from 'notiflix';\nimport { refs } from './refs';\nimport { fetchIngredient } from './fetch-data';\nimport { removeFromLS } from './local-storage-operations';\nimport markupIngredient from './markup-ingredient';\n\nconst renderFavIng = () => {\n  refs.ingredientsGallery.innerHTML = '';\n  refs.containerNotFoundFavIng.classList.add('is-hidden');\n  const ids = JSON.parse(localStorage.getItem('ingredients'));\n  if (!ids || ids.length === 0) {\n    refs.containerNotFoundFavIng.classList.remove('is-hidden');\n  }\n  ids.forEach(async id => {\n    const response = await fetchIngredient(id);\n    if (!response[0]) return;\n    const data = response[0];\n    refs.ingredientsGallery.innerHTML += `\n        <li class=\"fav-ingredient-card\">\n        <h3 class=\"fav-ingred-header\">${data.title}</h3>\n        <p class=\"is-alcoholic\">${\n          data.alcohol === 'Yes' ? 'Alcoholic' : 'Non-Alcoholic'\n        }</p>\n        <p class=\"fav-ingred-desc\">\n        ${data.description}\n        </p>\n        <div class=\"fav-ingred-btns\">\n          <button type=\"button\" class=\"fav-ingred-learn-more-btn learn-more-btn\" data-id=\"${id}\" data-role=\"learn-more\">\n            LEARN MORE\n          </button>\n          <button\n            type=\"button\"\n            class=\"delete-btn fav-ingred-delete-btn\"\n            data-id=\"${id}\"\n            data-role=\"delete\"\n          >\n            <svg\n              class=\"card-cocktail-delete-icon\"\n              xmlns=\"http://www.w3.org/2000/svg\"\n              width=\"18\"\n              height=\"18\"\n              viewBox=\"0 0 18 18\"\n              fill=\"none\"\n            >\n              <path\n                d=\"M11 4.5V3.9C11 3.05992 11 2.63988 10.8365 2.31901C10.6927 2.03677 10.4632 1.8073 10.181 1.66349C9.86012 1.5 9.44008 1.5 8.6 1.5H7.4C6.55992 1.5 6.13988 1.5 5.81901 1.66349C5.53677 1.8073 5.3073 2.03677 5.16349 2.31901C5 2.63988 5 3.05992 5 3.9V4.5M6.5 8.625V12.375M9.5 8.625V12.375M1.25 4.5H14.75M13.25 4.5V12.9C13.25 14.1601 13.25 14.7902 13.0048 15.2715C12.789 15.6948 12.4448 16.039 12.0215 16.2548C11.5402 16.5 10.9101 16.5 9.65 16.5H6.35C5.08988 16.5 4.45982 16.5 3.97852 16.2548C3.55516 16.039 3.21095 15.6948 2.99524 15.2715C2.75 14.7902 2.75 14.1601 2.75 12.9V4.5\"\n                stroke=\"#FDFDFF\"\n                stroke-width=\"1.5\"\n                stroke-linecap=\"round\"\n                stroke-linejoin=\"round\"\n              />\n            </svg>\n          </button>\n        </div>\n      </li>\n    `;\n  });\n};\n\nrenderFavIng();\n\nconst deleteFromFavIng = id => {\n  removeFromLS('ingredients', id);\n  renderFavIng();\n};\n\nconst openIngredModal = async e => {\n  const ingredId = e.target.dataset.id;\n  try {\n    const response = await fetchIngredient(ingredId);\n    if (!response[0]) return;\n    const data = response[0];\n    markupIngredient(data);\n    refs.backdropIngred.classList.remove('is-hidden');\n    let removeFromFavBtn = document.querySelector('.remove-from-fav-ing-btn');\n    removeFromFavBtn.addEventListener('click', e => {\n      const id = e.target.dataset.id;\n      deleteFromFavIng(id);\n      refs.backdropIngred.classList.add('is-hidden');\n    });\n  } catch (err) {\n    Notify.failure('Oops, something went wrong!', {\n      clickToClose: true,\n    });\n    console.error(err);\n  }\n};\n\nrefs.ingredientsGallery.addEventListener('click', e => {\n  if (e.target.dataset.role === 'delete' || e.target.closest('.delete-btn')) {\n    deleteFromFavIng(e.target.dataset.id);\n  }\n  if (e.target.dataset.role === 'learn-more') {\n    openIngredModal(e);\n  }\n});\n\nrefs.backdropIngred.addEventListener('click', closeIngredModal);\n\nfunction closeIngredModal(e) {\n  if (\n    e.target !== e.currentTarget &&\n    e.target.closest('.ingred-modal-x-btn') !== refs.closeModalBtn\n  ) {\n    return;\n  }\n  refs.backdropIngred.classList.add('is-hidden');\n  renderFavIng();\n}\n"],"names":["parcelRequire","$4965aecbeeb41b49$var$renderFavIng","$krGWQ","refs","ingredientsGallery","innerHTML","containerNotFoundFavIng","classList","add","ids","JSON","parse","localStorage","getItem","length","remove","forEach","async","id","response","$g1agj","fetchIngredient","data","title","alcohol","description","$4965aecbeeb41b49$var$deleteFromFavIng","$jWzUR","removeFromLS","addEventListener","e","target","dataset","role","closest","e1","ingredId","$hjKJK","default","backdropIngred","document","querySelector","err","$7Y9D8","Notify","failure","clickToClose","console","error","$4965aecbeeb41b49$var$openIngredModal","currentTarget","closeModalBtn"],"version":3,"file":"favorite-ingredients.8934813c.js.map"}